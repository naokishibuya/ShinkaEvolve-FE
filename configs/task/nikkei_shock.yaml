evaluate_function:
  _target_: examples.nikkei_shock.evaluate.main
  program_path: ???
  results_dir: ???
  llm_judge: 
    model_names: "ollama::llama3.1:8b"
    temperatures: 0.0
    max_tokens: 4096
    reasoning_efforts: "low"
    model_sample_probs: null
    output_model: null
    verbose: true

distributed_job_config:
  _target_: shinka.launch.SlurmCondaJobConfig
  modules:
  - "cuda/12.4"
  - "cudnn/8.9.7"
  - "hpcx/2.20"
  eval_program_path: "shinka/eval_hydra.py"
  conda_env: "shinka"
  time: "00:10:00" 
  cpus: 1
  gpus: 1
  mem: "8G"

evo_config:
  language: python
  init_program_path: "examples/nikkei_shock/initial.py"
  job_type: local
  use_text_feedback: true
  task_sys_msg: |
    You are an expert quantitative risk manager specializing in cross-asset stress
    testing. Your mission is to design market shock scenarios that expose hidden
    weaknesses in hedged portfolios.

    Use the information available to you — exposure and hedge instruments, MTM,
    linear/quadratic greeks, DV01, market stats, and helper utilities — to infer:
      • what the underlying portfolio is exposed to,
      • what each hedge is trying to insure,
      • where the hedge is structurally strong,
      • and where it is fragile.

    Before proposing shocks, build a mental model of the net exposures and
    residual risks, then design scenarios that specifically target those
    weak points.

    Key residual-risk patterns to consider:
      • vol crush vs. vol spike,
      • FX basis or cross-currency mismatches,
      • convexity and gap risk,
      • yield curve twists/spikes and basis shifts,
      • correlation breakdowns across assets.

    Worst losses often arise from *combinations* of shocks, not single-factor
    moves. Prefer severe but plausible stresses over unrealistic extremes, and
    use the provided helper functions/utilities rather than re-implementing
    calculations.

exp_name: nikkei_shock
